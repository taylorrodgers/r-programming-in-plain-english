<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 10 How to Plot Data in R | R Programming in Plain English</title>
<meta name="author" content="Taylor Rodgers">
<meta name="description" content="Within R, there are three popular methods for plotting data. The first uses the plot function in R base. The second is the ggplot2 package, which RStudio developed with their tidyverse package...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 10 How to Plot Data in R | R Programming in Plain English">
<meta property="og:type" content="book">
<meta property="og:url" content="https://github.com/taylorrodgers/taylorrodgers.github.io/plotdata.html">
<meta property="og:image" content="https://github.com/taylorrodgers/taylorrodgers.github.io/BookCover.png">
<meta property="og:description" content="Within R, there are three popular methods for plotting data. The first uses the plot function in R base. The second is the ggplot2 package, which RStudio developed with their tidyverse package...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 10 How to Plot Data in R | R Programming in Plain English">
<meta name="twitter:description" content="Within R, there are three popular methods for plotting data. The first uses the plot function in R base. The second is the ggplot2 package, which RStudio developed with their tidyverse package...">
<meta name="twitter:image" content="https://github.com/taylorrodgers/taylorrodgers.github.io/BookCover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Lato-0.4.0/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R Programming in Plain English</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About This Book</a></li>
<li><a class="" href="whatisr.html"><span class="header-section-number">2</span> What is R Programming?</a></li>
<li><a class="" href="setup.html"><span class="header-section-number">3</span> How to Get Started with R and RStudio</a></li>
<li><a class="" href="objects.html"><span class="header-section-number">4</span> Object Types in R Programming</a></li>
<li><a class="" href="baserfilter.html"><span class="header-section-number">5</span> How to Filter and Transform Objects in Base R</a></li>
<li><a class="" href="dplyr.html"><span class="header-section-number">6</span> How to Filter and Transform Data with the dplyr Package</a></li>
<li><a class="" href="packages.html"><span class="header-section-number">7</span> Understanding and Using R Packages</a></li>
<li><a class="" href="function.html"><span class="header-section-number">8</span> How to Write Functions</a></li>
<li><a class="" href="importdata.html"><span class="header-section-number">9</span> How to Import Data into R</a></li>
<li><a class="active" href="plotdata.html"><span class="header-section-number">10</span> How to Plot Data in R</a></li>
<li><a class="" href="statfunctions.html"><span class="header-section-number">11</span> Statistical Functions in R: Common Functions and How They Work</a></li>
<li><a class="" href="answers.html"><span class="header-section-number">12</span> Answer Key</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/taylorrodgers/taylorrodgers.github.io">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="plotdata" class="section level1" number="10">
<h1>
<span class="header-section-number">10</span> How to Plot Data in R<a class="anchor" aria-label="anchor" href="#plotdata"><i class="fas fa-link"></i></a>
</h1>
<p>Within R, there are three popular methods for plotting data. The first uses the <code>plot</code> function in R base. The second is the <code>ggplot2</code> package, which RStudio developed with their <code>tidyverse</code> package set. And the third is <code>plotly</code>, which was developed by the “Plotly” company.</p>
<p>The R base version of plot functions is much more subdued and uses simpler graphics. It typically looks something like this:</p>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9-1.png" width="70%" style="display: block; margin: auto;"></div>
<p><code>ggplot2</code> outputs something more like this:</p>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.1-1.png" width="70%" style="display: block; margin: auto;"></div>
<p><code>plotly</code> outputs something similar to <code>ggplot2</code>, but has some built-in interactivity, such as tool tips. Try hovering over the plot below to see what I mean:</p>
<div id="htmlwidget-6ab2a427f3bbf16d7f3d" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6ab2a427f3bbf16d7f3d">{"x":{"visdat":{"2fd13d3b543c":["function () ","plotlyVisDat"]},"cur_data":"2fd13d3b543c","attrs":{"2fd13d3b543c":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Speed"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dist"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[4,4,7,7,8,9,10,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,16,16,17,17,17,18,18,18,18,19,19,19,20,20,20,20,20,22,23,24,24,24,24,25],"y":[2,10,4,22,16,10,18,26,34,17,28,14,20,24,28,26,34,34,46,26,36,60,80,20,26,54,32,40,32,40,50,42,56,76,84,36,46,68,32,48,52,56,64,66,54,70,92,93,120,85],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>People who build more elaborate data visualizations using R typically prefer <code>ggplot2</code> or <code>plotly</code>. Those two packages have more robust aesthetics and interactivity than R base plot functions.</p>
<div id="pros-and-cons-of-data-viz-packages" class="section level2" number="10.1">
<h2>
<span class="header-section-number">10.1</span> Pros and Cons of Data Viz Packages<a class="anchor" aria-label="anchor" href="#pros-and-cons-of-data-viz-packages"><i class="fas fa-link"></i></a>
</h2>
<p>What data viz package is the best one?</p>
<p>That question is a solid “it depends!” Because R is an open-source language, we have multiple options that fulfill the same needs, but with subtle differences in functionality.</p>
<p>I’d say the base <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function is definitely the “smartest” one. And by that, I mean it often makes an educated guess on how to plot your data.</p>
<p>For example, you can literally run the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function on linear regression models, single variables, and data frames, and the function makes a pretty good assumption of what plots you want to see. This is handy for exploratory data analysis.</p>
<p>The aesthetics of the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function aren’t great though. As you saw in the last section, <code>ggplot2</code> and <code>plotly</code> look a lot better. That being said, most data viz tools are only as good as their developer. If you know how to use color, font selection, and the right data viz effectively, you can make the base plots look good. It just takes more work.</p>
<p>For example, I took our Bond data set and made a data viz with the <code>base</code> package. I changed the color, font, and other settings and managed to make it look better. You can see the code and output below:</p>
<div class="sourceCode" id="cb258"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bond</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/taylorrodgers/bond/main/bond.csv"</span><span class="op">)</span>
<span class="va">bond</span><span class="op">$</span><span class="va">actor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">bond</span><span class="op">$</span><span class="va">actor</span><span class="op">)</span>
<span class="va">bond_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#7fb7be"</span>,<span class="st">"#d3f3ee"</span>,<span class="st">"#dacc3e"</span>,<span class="st">"#bc2c1a"</span>,<span class="st">"#7d1538"</span>,<span class="st">"#454444"</span><span class="op">)</span>
<span class="va">bond_colors</span> <span class="op">&lt;-</span> <span class="va">bond_colors</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">bond</span><span class="op">$</span><span class="va">actor</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">bond</span><span class="op">$</span><span class="va">year</span>,
     <span class="va">bond</span><span class="op">$</span><span class="va">gross</span>,
     bg<span class="op">=</span><span class="va">bond_colors</span>,
     col<span class="op">=</span><span class="st">"black"</span>,
     cex<span class="op">=</span><span class="fl">2</span>,
     pch<span class="op">=</span><span class="fl">21</span>,
     xlab<span class="op">=</span><span class="st">"Year Released"</span>,
     ylab<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
     main<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span>,
     col.axis<span class="op">=</span><span class="st">"#454444"</span>,
     col.main<span class="op">=</span><span class="st">"#454444"</span>,
     col.lab<span class="op">=</span><span class="st">"#454444"</span>,
   fg<span class="op">=</span><span class="st">"#454444"</span>,
   family<span class="op">=</span><span class="st">"Droid Sans"</span>
     <span class="op">)</span> 
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"top"</span>,inset<span class="op">=</span><span class="fl">0.05</span>,
       legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">bond</span><span class="op">$</span><span class="va">actor</span><span class="op">)</span>,
       cex<span class="op">=</span><span class="fl">.9</span>,pch<span class="op">=</span><span class="fl">21</span>,pt.cex<span class="op">=</span><span class="fl">1.2</span>,
       pt.bg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">bond_colors</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.3-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>This wasn’t easy to do though. I had to do more research to figure out how to accomplish the visualization above.</p>
<p>I think <code>ggplot2</code> has a more intuitive syntax. I create a similar plot to our last one with this script:</p>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="va">bond</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/taylorrodgers/bond/main/bond.csv"</span><span class="op">)</span>
<span class="va">bond</span><span class="op">$</span><span class="va">actor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">bond</span><span class="op">$</span><span class="va">actor</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.4-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>You probably noticed that this script is a lot shorter too. It has a similar syntax to the <code>dplyr</code> package. It uses a <code>+</code> operator to add layers to the plot, similar to how <code>dplyr</code> uses <code>%&gt;%</code> to create a series of data transformations.</p>
<p>And best of all, it didn’t take too much work to produce a semi-professional looking graph with <code>ggplot2</code>.</p>
<p>The only thing I don’t like about <code>ggplot2</code> is the default aesthetics. It looks better than base, but it just looks “busy” to me. I don’t like the gray background of the plot and I don’t like the lines. Most data viz professionals advise making your plots minimalistic to ensure readability.</p>
<p>In order for me to clean up the plot, I have to write a few additional lines of code:</p>
<div class="sourceCode" id="cb260"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,
         panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
         panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
         panel.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
         axis.line <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_line</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"grey"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.5-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>This isn’t a big deal to add this, but it is somewhat tedious. Thankfully, there are pre-built themes in the <code>ggthemes</code> package that you can use. They have themes that mimic the aesthetics of the <em>Wall Street Journal</em>, <em>The Economist</em>, <em>FiveThirtyEight</em>, and several other well-known data journalism outlets.</p>
<p>Here’s <em>FiveThirtyEight</em>’s template below:</p>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_fivethirtyeight.html">theme_fivethirtyeight</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.6-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>I personally like the <em>pander</em> theme most of all. It provides just enough detail to help the human eye without becoming too busy.</p>
<div class="sourceCode" id="cb262"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_pander.html">theme_pander</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.7-1.png" width="70%" style="display: block; margin: auto;"></div>
<p><code>plotly</code> data viz strikes a good balance between intuitive syntax and great default visualizations. It also provides great resources for building interactive web-based applications. I’ve used it extensively now for building Shiny applications that engineers would use to make predictions. The fact that I can get real specific with event tracking and interactions makes it the best for developers.</p>
<p>Here’s an example:</p>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,x<span class="op">=</span><span class="op">~</span><span class="va">year</span>,y<span class="op">=</span><span class="op">~</span><span class="va">gross</span>,color<span class="op">=</span><span class="op">~</span><span class="va">actor</span>,size<span class="op">=</span><span class="fl">10</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-c7015f8ef8e4be8f9879" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c7015f8ef8e4be8f9879">{"x":{"visdat":{"2fd122d5cb39":["function () ","plotlyVisDat"]},"cur_data":"2fd122d5cb39","attrs":{"2fd122d5cb39":{"x":{},"y":{},"color":{},"size":10,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"year"},"yaxis":{"domain":[0,1],"automargin":true,"title":"gross"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012,2015,2006,2008],"y":[1108.561008,880.669186,669.789482,622.246378],"type":"scatter","mode":"markers","name":"Daniel Craig","marker":{"color":"rgba(102,194,165,1)","size":[55,55,55,55],"sizemode":"area","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)","size":55},"error_y":{"color":"rgba(102,194,165,1)","width":55},"error_x":{"color":"rgba(102,194,165,1)","width":55},"line":{"color":"rgba(102,194,165,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1969],"y":[505.899782],"type":"scatter","mode":"markers","name":"George Lazenby","marker":{"color":"rgba(252,141,98,1)","size":[55],"sizemode":"area","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)","size":55},"error_y":{"color":"rgba(252,141,98,1)","width":55},"error_x":{"color":"rgba(252,141,98,1)","width":55},"line":{"color":"rgba(252,141,98,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[2002,1995,1999,1997],"y":[543.639638,529.548711,491.617153,478.946402],"type":"scatter","mode":"markers","name":"Pierce Brosnan","marker":{"color":"rgba(141,160,203,1)","size":[55,55,55,55],"sizemode":"area","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)","size":55},"error_y":{"color":"rgba(141,160,203,1)","width":55},"error_x":{"color":"rgba(141,160,203,1)","width":55},"line":{"color":"rgba(141,160,203,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1973,1977,1979,1981,1974,1983,1985],"y":[825.110761,692.713752,655.8724,486.468881,448.249281,426.244352,321.172633],"type":"scatter","mode":"markers","name":"Roger Moore","marker":{"color":"rgba(231,138,195,1)","size":[55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)","size":55},"error_y":{"color":"rgba(231,138,195,1)","width":55},"error_x":{"color":"rgba(231,138,195,1)","width":55},"line":{"color":"rgba(231,138,195,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1965,1964,1967,1971,1963,1962],"y":[1014.941117,912.257512,756.544419,648.514469,576.277964,440.759072],"type":"scatter","mode":"markers","name":"Sean Connery","marker":{"color":"rgba(166,216,84,1)","size":[55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)","size":55},"error_y":{"color":"rgba(166,216,84,1)","width":55},"error_x":{"color":"rgba(166,216,84,1)","width":55},"line":{"color":"rgba(166,216,84,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1987,1989],"y":[381.088866,285.157191],"type":"scatter","mode":"markers","name":"Timothy Dalton","marker":{"color":"rgba(255,217,47,1)","size":[55,55],"sizemode":"area","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)","size":55},"error_y":{"color":"rgba(255,217,47,1)","width":55},"error_x":{"color":"rgba(255,217,47,1)","width":55},"line":{"color":"rgba(255,217,47,1)","width":55},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p><code>plotly</code> has a somewhat less intuitive syntax though. The functions become a hierarchy of <code>lists</code>. If you look at the code and output below, you’ll notice that I have to specify formatting options with lists:</p>
<div class="sourceCode" id="cb264"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,x<span class="op">=</span><span class="op">~</span><span class="va">year</span>,y<span class="op">=</span><span class="op">~</span><span class="va">gross</span>,color<span class="op">=</span><span class="op">~</span><span class="va">actor</span>,size<span class="op">=</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
        <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html">layout</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span>,
               xaxis<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Year"</span><span class="op">)</span>,
               yaxis<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-041ad5f1fdd671339125" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-041ad5f1fdd671339125">{"x":{"visdat":{"2fd1318a418a":["function () ","plotlyVisDat"]},"cur_data":"2fd1318a418a","attrs":{"2fd1318a418a":{"x":{},"y":{},"color":{},"size":10,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gross Revenue for Bond Films","xaxis":{"domain":[0,1],"automargin":true,"title":"Year"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Gross Revenue (in millions)"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012,2015,2006,2008],"y":[1108.561008,880.669186,669.789482,622.246378],"type":"scatter","mode":"markers","name":"Daniel Craig","marker":{"color":"rgba(102,194,165,1)","size":[55,55,55,55],"sizemode":"area","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)","size":55},"error_y":{"color":"rgba(102,194,165,1)","width":55},"error_x":{"color":"rgba(102,194,165,1)","width":55},"line":{"color":"rgba(102,194,165,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1969],"y":[505.899782],"type":"scatter","mode":"markers","name":"George Lazenby","marker":{"color":"rgba(252,141,98,1)","size":[55],"sizemode":"area","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)","size":55},"error_y":{"color":"rgba(252,141,98,1)","width":55},"error_x":{"color":"rgba(252,141,98,1)","width":55},"line":{"color":"rgba(252,141,98,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[2002,1995,1999,1997],"y":[543.639638,529.548711,491.617153,478.946402],"type":"scatter","mode":"markers","name":"Pierce Brosnan","marker":{"color":"rgba(141,160,203,1)","size":[55,55,55,55],"sizemode":"area","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)","size":55},"error_y":{"color":"rgba(141,160,203,1)","width":55},"error_x":{"color":"rgba(141,160,203,1)","width":55},"line":{"color":"rgba(141,160,203,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1973,1977,1979,1981,1974,1983,1985],"y":[825.110761,692.713752,655.8724,486.468881,448.249281,426.244352,321.172633],"type":"scatter","mode":"markers","name":"Roger Moore","marker":{"color":"rgba(231,138,195,1)","size":[55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)","size":55},"error_y":{"color":"rgba(231,138,195,1)","width":55},"error_x":{"color":"rgba(231,138,195,1)","width":55},"line":{"color":"rgba(231,138,195,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1965,1964,1967,1971,1963,1962],"y":[1014.941117,912.257512,756.544419,648.514469,576.277964,440.759072],"type":"scatter","mode":"markers","name":"Sean Connery","marker":{"color":"rgba(166,216,84,1)","size":[55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)","size":55},"error_y":{"color":"rgba(166,216,84,1)","width":55},"error_x":{"color":"rgba(166,216,84,1)","width":55},"line":{"color":"rgba(166,216,84,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1987,1989],"y":[381.088866,285.157191],"type":"scatter","mode":"markers","name":"Timothy Dalton","marker":{"color":"rgba(255,217,47,1)","size":[55,55],"sizemode":"area","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)","size":55},"error_y":{"color":"rgba(255,217,47,1)","width":55},"error_x":{"color":"rgba(255,217,47,1)","width":55},"line":{"color":"rgba(255,217,47,1)","width":55},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>This syntax isn’t too hard to learn, but it does require some practice.</p>
</div>
<div id="so-which-data-viz-package-is-actually-the-best" class="section level2" number="10.2">
<h2>
<span class="header-section-number">10.2</span> So Which Data Viz Package is Actually the Best?<a class="anchor" aria-label="anchor" href="#so-which-data-viz-package-is-actually-the-best"><i class="fas fa-link"></i></a>
</h2>
<p>Many data scientists would say the best method is the one you already know. As I said, if you understand the fundamentals of good data visualization, you can use any tool pretty well. And if you already know one of these methods (or know another tool like Tableau or PowerBI), I say go with that one.</p>
<p>That said, I suggest <code>ggplot2</code> for those who conduct research. And I will focus on <code>ggplot2</code> exclusively for the remaining chapter.</p>
<p>The reason I like <code>ggplot2</code> best is the readable syntax and the ability to use templates. The other benefit is that many other R programmers already know <code>ggplot2</code>. That allows you to more easily share your work with them and collaborate.</p>
</div>
<div id="how-to-write-ggplot2-scripts" class="section level2" number="10.3">
<h2>
<span class="header-section-number">10.3</span> How to Write ggplot2 Scripts<a class="anchor" aria-label="anchor" href="#how-to-write-ggplot2-scripts"><i class="fas fa-link"></i></a>
</h2>
<p>I would have to write a whole book to describe all of <code>ggplot2</code>’s functions and best practices. There are a few books out there and I suggest you read them if you want to get really, really good at it. Since this book is for researchers who probably want a few plots to illustrate their research, I’ll focus on the basics and show you how to make your visualizations look professional.</p>
<p>The easiest way to think about <code>ggplot2</code>’s syntax is to imagine that you have clear, transparent celluloid sheets of paper. Each one has something drawn on it. The bottom one defines the x and y axes:</p>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>In the script above, we haven’t actually plotted anything yet. All we’re doing is defining the structure of the plot. We’re specifying that the data is the Bond data set and we’re “mapping” aesthetic parameters (<code>mapping=aes()</code>). Within <code>mapping=aes()</code>, we state that the x-axis as the <em>year</em>, the y-axis as <em>revenue</em>, and the color as <em>actor.</em></p>
<p>If you run the script above, all you’ll see is a blank box:</p>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.11-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>After we define those values, we can add new layers. For this plot, we only want one additional layer for now. We’ll want a scatterplot, which relies on the <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> function:</p>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.12-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>If you’ll notice, I didn’t need to specify any arguments in the <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> function above. That’s because these functions <strong>inherit</strong> the arguments of the functions before it.</p>
<p>If we want to, we can change this plot to a line plot by swapping out the <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> function with a <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code> function:</p>
<div class="sourceCode" id="cb267"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.13-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>This isn’t a very good plot though. We broke our actors out by color and no Bond actor plays the role across our entire time span. For that reason, the line broke apart. We can turn this into a single line by removing actor from the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> function below:</p>
<div class="sourceCode" id="cb268"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.14-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>Now we can see how revenue for Bond films has changed over the years, but we lost the ability to see the Bond actors. What if we want to see one line, but also see how individual actors perform?</p>
<p>Simple! We just layer two visualizations on top of each other!</p>
<div class="sourceCode" id="cb269"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.15-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>Pay close attention to what we did in the last script. We used the <code>+</code> operator and defined two data visualizations: <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code> and <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code>. We defined color in the <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> function, rather than the <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> function. That prevented <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code> from inheriting the color argument and dividing the line again.</p>
<p>Our current visualization isn’t perfect though. I’d like to make the dots bigger so that we can better see the actor. I can adjust that setting in the <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> function:</p>
<div class="sourceCode" id="cb270"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color<span class="op">=</span><span class="va">actor</span><span class="op">)</span>,size<span class="op">=</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.15.1-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>Now I want you to remember something - you’re <strong>layering</strong> these visualizations. That means you should consider the order when you build them.</p>
<p>If you look at the script below, I have the <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> function <em>before</em> the <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code> function. That means the line will sit on top of the points, which is less clear than our previous visualization.</p>
<div class="sourceCode" id="cb271"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color<span class="op">=</span><span class="va">actor</span><span class="op">)</span>,size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.16-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>Keep these things in mind. Layers change the way your data viz looks.</p>
</div>
<div id="how-to-plot-common-data-visualizations-in-ggplot2" class="section level2" number="10.4">
<h2>
<span class="header-section-number">10.4</span> How to Plot Common Data Visualizations in ggplot2<a class="anchor" aria-label="anchor" href="#how-to-plot-common-data-visualizations-in-ggplot2"><i class="fas fa-link"></i></a>
</h2>
<p>Typically, the most common data visualizations you’ll need to plot include:</p>
<ul>
<li>scatter</li>
<li>bar</li>
<li>line</li>
<li>box-and-whiskers</li>
</ul>
<p>Some people would add pie charts, but there are well-documented reasons online about why pie charts (and doughnut charts) are ineffective as data visualizations. So I won’t cover those.</p>
<div id="how-to-plot-a-scatterplot" class="section level3" number="10.4.1">
<h3>
<span class="header-section-number">10.4.1</span> How to Plot a Scatterplot<a class="anchor" aria-label="anchor" href="#how-to-plot-a-scatterplot"><i class="fas fa-link"></i></a>
</h3>
<p>This is one we’ve already covered in previous sections. You use the functions <code><a href="https://ggplot2.tidyverse.org/reference/ggplot2-package.html">ggplot2()</a></code> and <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> to create a scatterplot:</p>
<div class="sourceCode" id="cb272"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
</div>
<div id="how-to-plot-a-bar-graph-histogram" class="section level3" number="10.4.2">
<h3>
<span class="header-section-number">10.4.2</span> How to Plot a Bar Graph / Histogram<a class="anchor" aria-label="anchor" href="#how-to-plot-a-bar-graph-histogram"><i class="fas fa-link"></i></a>
</h3>
<p>There are a three functions available for plotting bar graphs:</p>
<ol style="list-style-type: decimal">
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code></li>
</ol>
<p>All three functions have some overlap in how you can use them to report figures.</p>
<p><code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code> is useful for reporting count data by category. For example, we may want to see how many times each actor portrayed the Bond character. To do this, you’ll need to map the x-axis to actor and specify the <code>stat</code> argument as “count.”</p>
<div class="sourceCode" id="cb273"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"count"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.18-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>You can also use the <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code> to report a continuous variable. For example, you might want to see gross revenue by actor. If so, you’ll need to specify the weight argument within the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> function below.</p>
<div class="sourceCode" id="cb274"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>weight<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.19-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>You can also use <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col()</a></code> for something similar. <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col()</a></code> is a better fit for this type of visualization because it actually produces a <em>stacked</em> bar graph. It’s also simpler code, in that you only need to define the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> once.</p>
<div class="sourceCode" id="cb275"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">actor</span>,y<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.20-1.png" width="70%" style="display: block; margin: auto;"></div>
<p><code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code> displays a histogram, which is a special kind of bar chart used to display distribution of the data.</p>
<div class="sourceCode" id="cb276"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">mtcars</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">hp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins<span class="op">=</span><span class="fl">12</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.21-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>As you can see, you only need to specify one variable and the number of bins to get a working histogram.</p>
</div>
<div id="how-to-plot-a-line-graph" class="section level3" number="10.4.3">
<h3>
<span class="header-section-number">10.4.3</span> How to Plot a Line Graph<a class="anchor" aria-label="anchor" href="#how-to-plot-a-line-graph"><i class="fas fa-link"></i></a>
</h3>
<p>If you work with time-series data or something similar, the <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code> function works well for connecting points.</p>
<p>As we’ve shown before, here is how you create a line plot:</p>
<div class="sourceCode" id="cb277"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.22-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>You can also break lines out into groups. Let’s say for example that we wanted to see how Bond revenue changed for each actor as each of their movies were released. More specifically, let’s say we want to see how Daniel Craig’s second film compared to Sean Connery and Roger Moore. This will require some data transformation, as you can see below:</p>
<div class="sourceCode" id="cb278"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="va">bond_alter</span> <span class="op">&lt;-</span> <span class="va">bond</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">actor</span>,<span class="va">year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">actor</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>order<span class="op">=</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html">row_number</a></span><span class="op">(</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond_alter</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">order</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.23-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>We can see in the plot above that Roger Moore started off strong, but his revenue decreased over time. Daniel Craig and Sean Connery consistently outperformed the rest though.</p>
</div>
<div id="how-to-plot-a-box-and-whiskers-plot" class="section level3" number="10.4.4">
<h3>
<span class="header-section-number">10.4.4</span> How to Plot a Box-and-Whiskers Plot<a class="anchor" aria-label="anchor" href="#how-to-plot-a-box-and-whiskers-plot"><i class="fas fa-link"></i></a>
</h3>
<p>To create a box-and-whiskers plot, you use the <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code> function:</p>
<div class="sourceCode" id="cb279"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">actor</span>,y<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.24-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>In my career, I’ve learned to love box-and-whiskers plots. It’s the best visualization that helps stakeholders who aren’t statistics savvy appreciate variation. I assume it’s because they had to learn how to read these plots in college. Whenever I try to introduce standard deviation as a key performance indicator, they usually don’t understand why that’s important. A box-and-whiskers plot, especially when you compare multiple plots, makes it easier for stakeholders to understand why it matters.</p>
<p>As you could see in our previous visualization, there’s greater variance in results for the Bond actors gross revenue. Pierce Brosnan generated consistent revenue. Roger Moore had a lower median than Brosnan, but had several films do better.</p>
</div>
</div>
<div id="how-to-improve-labels-and-other-formatting-tips" class="section level2" number="10.5">
<h2>
<span class="header-section-number">10.5</span> How to Improve Labels and Other Formatting Tips<a class="anchor" aria-label="anchor" href="#how-to-improve-labels-and-other-formatting-tips"><i class="fas fa-link"></i></a>
</h2>
<p>I’ve worked with many data viz tools and have also mentored a few people now. One thing I always like to tell people is that good data visualizations focus on “the little details.” If you’ve noticed, most of these plots don’t have the best labeling or coloring. Spending an extra 10-15 minutes on these little details makes your work look far more professional and will help your audience appreciate the insights you deliver.</p>
<p>The first thing you should improve are the labels. Most data sets don’t use proper English to describe field names. In our data set, <em>Actor</em> (capitalized) is spelled as <em>actor</em> (lower case).</p>
<p>In larger data sets, we might have multiple fields with more descriptive names. In the Bond example, we could have <em>LeadActress</em>, <em>PrimaryAntagonistActor</em>, <em>SecondaryAntagonistActor</em>, etc. All of those would give us more flexibility in our analysis, but these names make poor labels on a plot.</p>
<p>We can use the <code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code> function to solve this problem. If you look at the plot below, you can see the improved labels:</p>
<div class="sourceCode" id="cb280"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.25-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>There’s a <code>lab()</code> argument for the x and y-axis, as well as one for the title. As you can already tell, this labeling is far more descriptive and professional than past labels.</p>
<p>Let’s say we want to add color. As you recall, we simply add <code>color=actor</code> in the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> function. And to change the legend title, we simply add <code>color="Actor Name"</code> to the <code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code> function:</p>
<div class="sourceCode" id="cb281"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span>,
        color<span class="op">=</span><span class="st">"Actor Name"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.26-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>You can also define the color codes you want to use for these plots. Personally, I’d suggest just using the templates I described in an earlier section to do this. The functions to perform these tasks get a bit confusing and the documentation isn’t that great.</p>
<p>If you want to get more specific with colors, possibly to match your company branding, you can study up on the <em>scale_manual</em> set of functions. Within this set, there are seven functions to alter data viz parameters:</p>
<ol style="list-style-type: decimal">
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_size_manual()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_linetype_manual()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_alpha_manual()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_discrete_manual()</a></code></li>
</ol>
<p>You may have noticed that the function you use depends on the type of plot. Since we used a scatter plot and the only thing we changed was the color, we’ll use the <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> to specify colors:</p>
<div class="sourceCode" id="cb282"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span>,
        color<span class="op">=</span><span class="st">"Bond Actor"</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#d55e00"</span>,<span class="st">"#cc79a7"</span>,<span class="st">"#0072b2"</span>,<span class="st">"#f0e442"</span>,<span class="st">"#009e73"</span>,<span class="st">"#d45e49"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.27-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>I’m not a fan of the gray background and the grids used in the default for <code>ggplot2</code>. You can use the <code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code> function to remove those:</p>
<div class="sourceCode" id="cb283"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span>,
        color<span class="op">=</span><span class="st">"Bond Actor"</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#d55e00"</span>,<span class="st">"#cc79a7"</span>,<span class="st">"#0072b2"</span>,<span class="st">"#f0e442"</span>,<span class="st">"#009e73"</span>,<span class="st">"#d45e49"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
         panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
         panel.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
         axis.line <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_line</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.28-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>As you can tell, it gets a bit tedious to remove all these default graphics. In my mind, this is the big trade-off with <code>ggplot2</code>. The syntax is intuitive, but it can sometimes take a little work to make improvements.</p>
<p>For that reason, I suggest using the templated themes. <code><a href="https://rdrr.io/pkg/ggthemes/man/theme_few.html">theme_few()</a></code> uses Few’s “Practical Rules for Using Color in Charts.” Or you can use <code><a href="https://rdrr.io/pkg/ggthemes/man/theme_pander.html">theme_pander()</a></code> for the “Pander” theme.</p>
<div class="sourceCode" id="cb284"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">bond</span>,
       mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">gross</span>,color<span class="op">=</span><span class="va">actor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Year"</span>,
        y<span class="op">=</span><span class="st">"Gross Revenue (in millions)"</span>,
        title<span class="op">=</span><span class="st">"Gross Revenue for Bond Films"</span>,
        color<span class="op">=</span><span class="st">"Bond Actor"</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_pander.html">theme_pander</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdown-demo_files/figure-html/9.29-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>Much better! If you want, you can learn to build your own themes at this <a href="https://towardsdatascience.com/designing-custom-ggplot2-themes-65fb4b86d925">link</a>.</p>
</div>
<div id="things-to-remember-8" class="section level2" number="10.6">
<h2>
<span class="header-section-number">10.6</span> Things to Remember<a class="anchor" aria-label="anchor" href="#things-to-remember-8"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>The popular data viz packages for R are <code>base</code>, <code>ggplot2</code>, and <code>plotly</code>
</li>
<li>
<code>base</code> is great for data exploration because it makes a good “guess” on what plot you want to see</li>
<li>
<code>plotly</code> is great for its interactive capabilities and I recommend it for app development</li>
<li>
<code>ggplot2</code> is best for researchers, statisticians, and data analysts</li>
<li>
<code>ggplot2</code> has the most intuitive syntax</li>
<li>
<code>ggplot2</code> “layers” visualizations</li>
<li>I recommend using themes for <code>ggplot2</code>
</li>
</ul>
</div>
<div id="exercises-5" class="section level2" number="10.7">
<h2>
<span class="header-section-number">10.7</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-5"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li>Using the <strong>mtcars</strong> data set and the <code>ggplot2</code> package, build a scatter plot with <strong>hp</strong> on the x-axis and <strong>mpg</strong> on the y-axis. (Hint: don’t forget to use <code><a href="https://ggplot2.tidyverse.org">library(ggplot2)</a></code> and <code>data(mtcars)</code> first.)</li>
<li>Using the plot you made in the previous question, use color to distinguish the <strong>cyl</strong> for each point. Be sure to turn the <strong>cyl</strong> column into a factor first with <code>factor(cyl)</code>.</li>
<li>Add more descriptive labeling to the x-axis, y-axis, and legend. For example, use “Horsepower” instead of “hp.”</li>
<li>Make the data viz title “Car Performance.”</li>
<li>Use the <code><a href="https://rdrr.io/pkg/ggthemes/man/theme_few.html">theme_few()</a></code> theme from the <code>ggthemes</code> package.</li>
</ol>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="importdata.html"><span class="header-section-number">9</span> How to Import Data into R</a></div>
<div class="next"><a href="statfunctions.html"><span class="header-section-number">11</span> Statistical Functions in R: Common Functions and How They Work</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#plotdata"><span class="header-section-number">10</span> How to Plot Data in R</a></li>
<li><a class="nav-link" href="#pros-and-cons-of-data-viz-packages"><span class="header-section-number">10.1</span> Pros and Cons of Data Viz Packages</a></li>
<li><a class="nav-link" href="#so-which-data-viz-package-is-actually-the-best"><span class="header-section-number">10.2</span> So Which Data Viz Package is Actually the Best?</a></li>
<li><a class="nav-link" href="#how-to-write-ggplot2-scripts"><span class="header-section-number">10.3</span> How to Write ggplot2 Scripts</a></li>
<li>
<a class="nav-link" href="#how-to-plot-common-data-visualizations-in-ggplot2"><span class="header-section-number">10.4</span> How to Plot Common Data Visualizations in ggplot2</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#how-to-plot-a-scatterplot"><span class="header-section-number">10.4.1</span> How to Plot a Scatterplot</a></li>
<li><a class="nav-link" href="#how-to-plot-a-bar-graph-histogram"><span class="header-section-number">10.4.2</span> How to Plot a Bar Graph / Histogram</a></li>
<li><a class="nav-link" href="#how-to-plot-a-line-graph"><span class="header-section-number">10.4.3</span> How to Plot a Line Graph</a></li>
<li><a class="nav-link" href="#how-to-plot-a-box-and-whiskers-plot"><span class="header-section-number">10.4.4</span> How to Plot a Box-and-Whiskers Plot</a></li>
</ul>
</li>
<li><a class="nav-link" href="#how-to-improve-labels-and-other-formatting-tips"><span class="header-section-number">10.5</span> How to Improve Labels and Other Formatting Tips</a></li>
<li><a class="nav-link" href="#things-to-remember-8"><span class="header-section-number">10.6</span> Things to Remember</a></li>
<li><a class="nav-link" href="#exercises-5"><span class="header-section-number">10.7</span> Exercises</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/taylorrodgers/taylorrodgers.github.io/blob/main/09-plotdata.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/taylorrodgers/taylorrodgers.github.io/edit/main/09-plotdata.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R Programming in Plain English</strong>" was written by Taylor Rodgers. It was last built on 2022-02-07.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
